PROJECT(BMPANEL C)
SET(BMPANEL_VERSION_MAJOR "2")
SET(BMPANEL_VERSION_MINOR "0")
SET(BMPANEL_VERSION_MICRO "0")
SET(BMPANEL_VERSION_EXTRA "b")
SET(BMPANEL_VERSION "${BMPANEL_VERSION_MAJOR}.${BMPANEL_VERSION_MINOR}")
SET(BMPANEL_VERSION_FULL
	"${BMPANEL_VERSION}.${BMPANEL_VERSION_MICRO}.${BMPANEL_VERSION_EXTRA}")

SET(BMPANEL_EXECUTABLE_NAME "bmpanel${BMPANEL_VERSION_MAJOR}")

CMAKE_MINIMUM_REQUIRED(VERSION 2.6)

SET(SOURCES
	${CMAKE_CURRENT_SOURCE_DIR}/memory.c
	${CMAKE_CURRENT_SOURCE_DIR}/message.c 
	${CMAKE_CURRENT_SOURCE_DIR}/theme-parser.c 
)

ADD_LIBRARY(core STATIC ${SOURCES})

SET(MAIN_SRC
	${CMAKE_CURRENT_SOURCE_DIR}/bmpanel.c
)	

ADD_EXECUTABLE(${BMPANEL_EXECUTABLE_NAME} ${MAIN_SRC})
TARGET_LINK_LIBRARIES(${BMPANEL_EXECUTABLE_NAME} core)
ADD_SUBDIRECTORY(tests)
